@using Library.Models.Author;
@using Library.Models.DTO;

@model DTOModel;

@{
    ViewData["Title"] = "Authors Management";
    ViewData["Objeto"] = "Author";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="col-9 mt-3">
    <h2 
        class="text-red-2" 
        title="General title of the page"
    >
        @ViewData["Title"]
    </h2>
</div>
<div class="col-12 border-top-red-3 p-3">
    <div class="row">
        <div class="col-2">
            <a 
                href="/Author/NewAuthor" 
                value="register"
                title="Create a new author"
                class="btn btn-success redondeado text-white"
                style="width: max-content;"
            >
                Add new Author
            </a>
        </div>
    </div>
    <br />
    @if (Model.AuthorList != null)
    {
        @if (Model.AuthorList.Count() >= 1)
        {
            <table 
                id="table" 
                class="table table-striped table-bordered"
                style="width:100%" 
                title="List of all authors"
            >
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Nationality</th>
                        <th>Create At</th>
                        <th>Updated At</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (AuthorModel author in Model.AuthorList)
                    {
                        <tr>
                            <td>@author.Author_Id</td>
                            <td>@author.Name</td>
                            <td>@author.Nationality</td>
                            <td>@author.Created_at</td>
                            <td>@author.Updated_at</td>
                            <td style="width:25%;">
                                <a 
                                    href="/Author/NewAuthor?Author_Id=@author.Author_Id"
                                    class="btn btn-warning text-white btn-gral"
                                    title="Button to edit author data"
                                >
                                    Edit
                                </a>
                                <a 
                                    href="/Author/ConsultAuthor?Author_Id=@author.Author_Id"
                                    class="btn btn-primary text-white btn-gral"
                                    title="Button to check author data"
                                >
                                    Consult
                                </a>
                                <a 
                                    href="/Author/DisableAuthor?Author_Id=@author.Author_Id"
                                    class="btn btn-danger text-white btn-gral"
                                    title="Button to delete all authors data and records"
                                >
                                    Disable
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
                <tfoot>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Nationality</th>
                        <th>Create At</th>
                        <th>Updated At</th>
                        <th>Actions</th>
                    </tr>
                </tfoot>
            </table>
        }
        else
        {
            <table 
                id="table" 
                class="table table-striped table-bordered"
                style="width:100%" 
                title="List of all authors"
            >
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Nationality</th>
                        <th>Create At</th>
                        <th>Updated At</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
                <tfoot>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Nationality</th>
                        <th>Create At</th>
                        <th>Updated At</th>
                        <th>Actions</th>
                    </tr>
                </tfoot>
            </table>
        }
    }
</div>
<br />
<br />

<script>
    $(document).ready(function () {
        $('#table').DataTable();
    });
</script>
