La consola de MySQL
6/25

List of all MySQL commands:
Note that all text commands must be first on line and end with ';'
?         (\?) Synonym for `help'.
clear     (\c) Clear the current input statement.
connect   (\r) Reconnect to the server. Optional arguments are db and host.
delimiter (\d) Set statement delimiter.
ego       (\G) Send command to mysql server, display result vertically.
exit      (\q) Exit mysql. Same as quit.
go        (\g) Send command to mysql server.
help      (\h) Display this help.
notee     (\t) Don't write into outfile.
print     (\p) Print current command.
prompt    (\R) Change your mysql prompt.
quit      (\q) Quit mysql.
rehash    (\#) Rebuild completion hash.
source    (\.) Execute an SQL script file. Takes a file name as an argument.
status    (\s) Get status information from the server.
system    (\!) Execute a system shell command.
tee       (\T) Set outfile [to_outfile]. Append everything into given outfile.
use       (\u) Use another database. Takes database name as argument.
charset   (\C) Switch to another charset. Might be needed for processing binlog with multi-byte charsets.
warnings  (\W) Show warnings after every statement.
nowarning (\w) Don't show warnings after every statement.
resetconnection(\x) Clean session context.
query_attributes Sets string parameters (name1 value1 name2 value2 ...) for the next query to pick up.
ssl_session_data_print Serializes the current SSL session data to stdout or file

mysql -u root -h localhost -p
show databases;
use bitsion-ficticia-s.a
show tables;
select database(); -- base de datos seleccionada
show databases;

\! cls

Tipos de columnas / Creación de la tabla books
9/25

create database platzi_operation;
create database if not exists platzi_operation;
show warnings;
create database platzi_operation;
ERROR 1007 (HY000): Can't create database 'platzi_operation'; database exists

show tables;

CREATE TABLE IF NOT EXISTS books
(
    book_id INTEGER UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    author INTEGER UNSIGNED,
    title VARCHAR(100) NOT NULL,
    `year` INTEGER UNSIGNED NOT NULL DEFAULT 1900,
    language VARCHAR(2) NOT NULL DEFAULT 'es' COMMENT 'ISO 639-1 Language',
    cover_url VARCHAR(500),
    price DOUBLE(6,2) NOT NULL DEFAULT 10.0,
    sellable TINYINT(1) DEFAULT 1,
    copies INTEGER NOT NULL DEFAULT 1,
    description TEXT
);

Tipos de columnas / Creación de la tabla authors
10/25

drop table books;
show tables;
desc o describe authors;
show full columns from books;

CREATE TABLE IF NOT EXISTS authors
(
    author_id INTEGER UNSIGNED PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100)NOT NULL,
    nationality VARCHAR(3)
);

Tipos de columnas usando / Creación de la tabla clientes
11/25

CREATE TABLE IF NOT EXISTS clients 
(
 client_id INTEGER UNSIGNED PRIMARY KEY AUTO_INCREMENT,
 `name` VARCHAR(50) NOT NULL,
 email VARCHAR(100) NOT NULL UNIQUE,
 birthdate DATETIME,
 gender ENUM('M', 'F', 'ND') NOT NULL,
 active TINYINT(1) NOT NULL DEFAULT 1,
 created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
 updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

Ejercicio tabla Operations

CREATE TABLE IF NOT EXISTS operations (
  transaction_id int(10) unsigned NOT NULL AUTO_INCREMENT,
  book_id int(10) unsigned NOT NULL,
  client_id int(10) unsigned NOT NULL,
  type enum('lend','sell') NOT NULL,
  created_at timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  modified_at timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  finished tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (transaction_id)
);

Comando INSERT
12/25

INSERT INTO authors(author_id, name, nationality) VALUES ('', 'Juan Rulfo', 'MEX');
error

INSERT INTO authors(name, nationality) VALUES('German', 'ARG');

INSERT INTO authors(name, nationality) VALUES
('German', 'ARG'),
('German', 'ARG'),
('German', 'ARG'),
('German', 'ARG')

INSERT INTO authors VALUES('', 'Juan', 'ARG');

select * from authors;

Comando on duplicate key
13/25

INSERT INTO `clients` (name, email, birthdate, gender, active, created_at) values ('Maria Dolores Gomez','Maria Dolores.95983222J@random.names','1971-06-06','F',1,'2018-04-09 16:51:30');

INSERT INTO `clients` (name, email, birthdate, gender, active, created_at) values ('Maria Dolores Gomez','Maria Dolores.95983222J@random.names','1971-06-06','F',1,'2018-04-09 16:51:30') ON DUPLICATE KEY IGNORE ALL; --nunca usarlo

INSERT INTO `clients` (name, email, birthdate, gender, active, created_at) values ('Maria Dolores Gomez','Maria Dolores.95983222J@random.names','1971-06-06','F',0,'2018-04-09 16:51:30') ON DUPLICATE KEY UPDATE ACTIVE = VALUES (ACTIVE);

select * from clients where client_id = 1;

select * from clients where client_id = 1\G; -- muestra los datos mejor

mysql> select * from clients where client_id = 1\G;
*************************** 1. row ***************************
 client_id: 1
      name: Maria Dolores Gomez
     email: Maria Dolores.95983222J@random.names
 birthdate: 1971-06-06 00:00:00
    gender: F
    active: 1
created_at: 2018-04-09 16:51:30
updated_at: 2022-07-18 17:23:40
1 row in set (0.00 sec)

nunca usarlo



